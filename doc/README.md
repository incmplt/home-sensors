# せいさくのおと

こんな所の README.md を読む人はいないと思いますが… 今回ワザワザ作った経緯などを…

※)乱調乱文、校正をかけていませんのでご勘弁ください。

## SensHAT の期待外れ : 2016年くらい??

最初は 温度・湿度・気圧のセンサーが搭載されている SensHAT で全部済ませようと思ってました。
ところが SensHAT は、その構造から RaspberryPi の熱をセンサーが拾ってしまい正しい値を取得できません(基本的に熱く計測する)。

CPU温度を測って、係数をかけてなど バッドノウハウがありましたが、それでも精度が上がらない。

その当時は、オモチャ程度で使うにはいいけど、何かの根拠ある値には使えないな。
ただ、こういうデータを集めて集計することで面白い活用がデキルかもねという程度でした。

## 子どもの夏休みの課題というものがありまして… : 2018年くらい??

お子様をお持ちの方であれば共通の悩み。
こどもの夏休みの課題というものがありまして… もう実体を知っている方はご存じの通り、ほとんど親の宿題な分けですよ。

そして、どうしたものかと考えていたときに、手元に RaspberryPi 3 と RaspberryPi ZERO WH と 自宅サーバーがあったわけです。
SensHAT での温度・湿度 の計測は失敗したのですが、専用センサーで本体から離し、体裁を整えればOKだろうと…

で、BME280 センサーを秋月電子から 3つばかり購入して初期のコードが完成しました。
初期のコードで、wlan0 の MACアドレスをキーにして MySQL のデータベースに 各種値を保存して30分毎に計測したわけです。

RaspberryPiは、3つ用意しました。

* RaspberryPi 3 : 自宅の廊下(冷暖房無し)
* RaspberryPi ZERO WH その1 : 自宅の外に 百葉箱のような構造で設置
* RaspberryPi ZERO WH その2 : 自宅のリビングに設置

3ヶ所で 温度・湿度・気圧の変化を 24時間 で計測するという使い方。
ついでに、その日の天気や観測所の情報も気象庁から取得してきて記録。

期間が短かったですが、それなりに面白いデータが出来たと思います。

## 世の中の変化とともに センサーをアップデート : 2019年～2020年??

ここまでの話は、すでに2018年くらいまでの話。
その後、世の中で 猛威を振るったウィルスの関係で、自宅にいる時間が長くなりました。

冬場は締め切って暖房を使っていることも多くあります。

と言うことで、いままで忘れていた RaspberryPi センサーに Co2 計測機能を追加して記録。
危険な値(1000ppm以上)になりそうなときには、警告を出すように アップデートしました。

## さらに襲いかかる気候の変動 : 2021年～

猛威を振るっているウィルスが、ワクチンで落ち着くかと思ったら… さらなる流行。
さらには猛暑と地政学的な問題とエネルギー不足が重なって、電気代も高騰。

エアコンをガマンして暑いのに耐えるのも限界があります。
そんなときに見つけた、疑似的に 暑さ指数(WBGT) を算出する計算式。

この計算式を使うと、温度と湿度・室内か屋外かの係数をかけることで 暑さ指数を計算できます。
暑さ指数は、熱中症に注意する指標ですので、この値を確認しておくことで適切にエアコンを利用できそうです。

と言うことで出来たのが、今のコードです(長いな～)。

指標があれば、無駄にガマンせずに適切にエアコンや換気ができるかな～と。

## これから活用できるのかな?

実際には、いまもデータベースにすべての値を記録して、数年間の 屋内・屋外 の記録があります。
これが、何かの役に立ってくれるときが来れば良いのですが…

と言うことで、ここまでお付き合いいただき有難うございました。

皆様に使っていただけそうなコードにまとまったら、またこのGitHubで公開していこうと思っております。

## AUTHOR

[incmplt](https://www.incmplt.net/)
